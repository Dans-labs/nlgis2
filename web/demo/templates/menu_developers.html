{% extends "base.html" %}
{% block content %}
<br />
<h2>API description: Argument based Queries</h2>

<p>This page provides information on our application programming interface (API). The API allows you to connect directly to our data and maps and is intended for software developers and researchers. For the latter group we specifically provide an R package 'nlgis', a convenience wrapper around the API that allows you to download and map our data or your own in R.</p>
        
<p><strong>API Data Services</strong></p>
<p>Output: service data with variables, years and values in JSON format</p><p>Input point:<br> <a class="external-link" href="{{ website }}/api/data" rel="nofollow">{{ website }}/api/data</a></p><p><strong>Request Format</strong></p><p>Requests support the following parameters:</p><ul><li><strong>cbsnr</strong> - CBS code</li><li><strong>naam</strong> - city name</li><li><strong>year</strong> - year from dataset</li><li><strong>code</strong> - indicator code</li><li><strong>indicator</strong> - full indicator name</li><li><strong>value</strong> - value from dataset</li><li><strong>amsterdam_code</strong> - Amsterdam code</li><li><strong>format</strong> â€“ output format. API supports JSON format by defaut (XML and JSONP reserved)</li></ul><p><strong>Examples</strong></p><p><a class="external-link" href="{{ website }}/api/data?code=TXCU" rel="nofollow">{{ website }}/api/data?code=TXCU</a><br> <a class="external-link" href="{{ website }}/api/data?indicator=TK" rel="nofollow">{{ website }}/api/data?indicator=TK</a><br> <a class="external-link" href="{{ website }}/api/data?amsterdam_code=10996" rel="nofollow">{{ website }}/api/data?amsterdam_code=10996</a></p><p><strong>Response Format</strong></p><p>By default, all requests will respond with valid JSON. To receive the response in other format, you may provide <code>format=xml</code> in any request (reserved).</p><p><strong>Example of response</strong></p><blockquote><pre>{
    "data": [
        {
            "amsterdam_code": "10996", 
            "cbsnr": "1", 
            "code": "TXCU", 
            "id": 1, 
            "indicator": "TK", 
            "naam": "ADORP", 
            "value": 89.0, 
            "year": 1937
        }, 
        {
            "amsterdam_code": "10999", 
            "cbsnr": "2", 
            "code": "TXCU", 
            "id": 209, 
            "indicator": "TK", 
            "naam": "ADUARD", 
            "value": 49.0, 
            "year": 1937
        }</pre><p>...</p><p>}</p></blockquote>
<p><strong>Geo API Service</strong></p>
<p>Map polygons available via API for all years from 1812 to 1997.</p><p>Input point:</p><p><a href="{{ website }}/api/maps" rel="nofollow" class="external-link">{{ website }}/api/maps</a></p><p><strong>Request Format</strong></p><p>Requests support the following parameters:</p><ul><li><strong>year</strong>: selects polygons for specific year</li><li><strong>format</strong>: output in geojson or topojson (default)</li></ul><p><strong>Examples of requests</strong><br> <a class="external-link" href="{{ website }}/api/maps" rel="nofollow">{{ website }}/api/maps?year=1812</a><br> <a class="external-link" href="{{ website }}/api/maps?year=1942" rel="nofollow">{{ website }}/api/maps?year=1942</a><a href="{{ website }}/api/maps?year=1812&amp;format=geojson" class="external-link" rel="nofollow"></a></p><p><a href="{{ website }}/api/maps?year=1812&amp;format=geojson" class="external-link" rel="nofollow">{{ website }}/api/maps?year=1812&amp;format=geojson</a></p><p><strong>Response Format</strong></p><p>By default, all requests will respond with valid JSON. To receive the response in other format, you may provide <code>format=xml</code> in any request (reserved).</p><p><strong>Example of response</strong></p><blockquote><pre>{"type":"FeatureCollection","features":[{"type":"Feature","id":"gemeenten.108655","geometry":{"type":"MultiPolygon","coordinates":[[[[3.5378534987727446,51.5541452800982],[3.5419386180420016,51.542342274725364],[3.536470532134391,51.5420759645756],[3.536343434625422,51.53811807982241],[3.522467693849322,51.535469929865606],[3.521884248501696,51.539146780784534],[3.51331369012684,51.537211479633946],[3.50694851636763,51.53773854574695],[3.503038660892862,51.54163145028888],[3.496330257646924,51.539994640731386],[3.491301902075456,51.54647636167254],[3.4961339652014587,51.54817300194589],[3.493955435007488,51.55200372185726],[3.5109972179312443,51.55839226983125],[3.513698328871488,51.562841028098205],[3.5253554737040034,51.55646417654532],[3.5230306216118112,51.553370293446626],[3.5378534987727446,51.5541452800982]]]]},"geometry_name":"geog","properties":{"name":"Aagtekerke","cbscode":1000,"amsterdamcode":10531,"id":108655}},{"type":"Feature","id":"gemeenten.153652",</pre>
<br />
{% endblock %}
